{% extends 'base.html' %}

{% block title %}Find Your Hostel - HostelMatch{% endblock %}

{% block extra_css %}
<style>
    .form-check-input:checked {
        background-color: var(--bs-primary);
        border-color: var(--bs-primary);
    }
</style>
{% endblock %}

{% block content %}
<!-- Page Header -->
<div class="container mt-4">
    <div class="row">
        <div class="col-lg-2"></div>
        <div class="col">
            <h1 class="mb-4"><pre>       Tell Us Your Preferences</pre></h1>
            <p class="lead">Fill out the form below to help us find the perfect hostel match for you in Pune.</p>
        </div>
    </div>
    
    <!-- Preference Form -->
    <div class="row">
        <div class="col-lg-2"></div>
        <div class="col-lg-8">
            <div class="formm">
            <div class="form-section">
                <form id="preference-form" action="{{ url_for('submit_preferences') }}" method="POST" class="needs-validation" novalidate>
                    <!-- College Selection -->
                    <div class="mb-4">
                        <label for="college" class="form-label">College/University in Pune</label>
                        <select class="form-select" id="college" name="college" required>
                            <option value="" selected disabled>Select your college</option>
                            {% for college in colleges %}
                            <option value="{{ college }}">{{ college }}</option>
                            {% endfor %}
                        </select>
                        <div class="invalid-feedback">Please select your college.</div>
                    </div>
                    
                    <!-- Budget Range -->
                    <div class="mb-4">
                        <label for="budget" class="form-label">Maximum Monthly Rent Budget (₹)</label>
                        <div class="d-flex align-items-center mb-2">
                            <input type="range" class="form-range flex-grow-1" id="budget" name="budget" min="1000" max="15000" step="500" value="8000" required>
                            <span class="ms-3 badge bg-primary px-3 py-2" id="budget-display">₹8000</span>
                        </div>
                        <div class="invalid-feedback">Please set your budget.</div>
                    </div>
                    
                    <!-- Room Type -->
                    <div class="mb-4">
                        <label class="form-label">Preferred Room Type</label>
                        <div class="d-flex flex-wrap gap-3">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="room_type" id="single" value="single" required>
                                <label class="form-check-label" for="single">
                                    Single (1 person)
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="room_type" id="double" value="double">
                                <label class="form-check-label" for="double">
                                    Double (2 persons)
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="room_type" id="shared" value="shared">
                                <label class="form-check-label" for="shared">
                                    Shared (3+ persons)
                                </label>
                            </div>
                        </div>
                        <div class="custom-feedback" id="room-type-feedback"></div>
                    </div>
                    
                    <!-- Hostel Type -->
                    <div class="mb-4">
                        <label class="form-label">Preferred Hostel Type</label>
                        <div class="d-flex flex-wrap gap-3">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="hostel_type" id="hostel" value="hostel" required>
                                <label class="form-check-label" for="hostel">
                                    Hostel
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="hostel_type" id="pg" value="PG">
                                <label class="form-check-label" for="pg">
                                    PG (Paying Guest)
                                </label>
                            </div>
                        </div>
                        <div class="custom-feedback" id="hostel-type-feedback"></div>
                    </div>
                    
                    <!-- Amenities -->
                    <div class="mb-4">
                        <label class="form-label">Required Amenities</label>
                        <div class="row">
                            <!-- First Row -->
                            <div class="col-md-4 mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="amenities" id="food" value="food">
                                    <label class="form-check-label" for="food">
                                        <i class="fas fa-utensils me-1"></i> Food
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="amenities" id="wifi" value="wifi">
                                    <label class="form-check-label" for="wifi">
                                        <i class="fas fa-wifi me-1"></i> Wi-Fi
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="amenities" id="laundry" value="laundry">
                                    <label class="form-check-label" for="laundry">
                                        <i class="fas fa-tshirt me-1"></i> Laundry
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Second Row -->
                            <div class="col-md-4 mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="amenities" id="ac" value="AC">
                                    <label class="form-check-label" for="ac">
                                        <i class="fas fa-snowflake me-1"></i> AC
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="amenities" id="security" value="security">
                                    <label class="form-check-label" for="security">
                                        <i class="fas fa-shield-alt me-1"></i> Security
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="amenities" id="geyser" value="geyser">
                                    <label class="form-check-label" for="geyser">
                                        <i class="fas fa-hot-tub me-1"></i> Geyser
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Third Row -->
                            <div class="col-md-4 mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="amenities" id="attached-bathroom" value="attached_bathroom">
                                    <label class="form-check-label" for="attached-bathroom">
                                        <i class="fas fa-bath me-1"></i> Attached Bathroom
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="amenities" id="cctv" value="CCTV">
                                    <label class="form-check-label" for="cctv">
                                        <i class="fas fa-video me-1"></i> CCTV
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="amenities" id="ro-water" value="RO_water">
                                    <label class="form-check-label" for="ro-water">
                                        <i class="fas fa-tint me-1"></i> RO Water
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Fourth Row -->
                            <div class="col-md-4 mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="amenities" id="parking" value="parking">
                                    <label class="form-check-label" for="parking">
                                        <i class="fas fa-parking me-1"></i> Parking
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="amenities" id="cleaning" value="cleaning">
                                    <label class="form-check-label" for="cleaning">
                                        <i class="fas fa-broom me-1"></i> Cleaning
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="amenities" id="fridge" value="fridge">
                                    <label class="form-check-label" for="fridge">
                                        <i class="fas fa-snowflake me-1"></i> Fridge
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Fifth Row -->
                            <div class="col-md-4 mb-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="amenities" id="warden" value="warden">
                                    <label class="form-check-label" for="warden">
                                        <i class="fas fa-user-shield me-1"></i> Warden
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="custom-feedback" id="amenities-feedback"></div>
                    </div>
                    
                    <!-- Submit Button -->
                    <div class="mt-4">
                        <button type="submit" class="btn btn-primary btn-lg">Show Recommendations</button>
                    </div>
                </form>
            </div>
            </div>
        </div>
        
       
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/form-validation.js') }}"></script>
{% endblock %}
